"use strict";var map,infoWindow,handle1,handle2,Data=[],viewportMarkers=[],markerCount=0;function initMap(){var e={zoom:9,center:new google.maps.LatLng(35.414722,-97.386667),mapTypeId:google.maps.MapTypeId.ROADMAP};map=new google.maps.Map(document.getElementById("nguyenmapinit"),e),google.maps.event.addListener(map,"dragend",function(){showMarkersInViewport()}),google.maps.event.addListener(map,"idle",function(){showMarkersInViewport()})}function showMarkersInViewport(){if(null!=viewportMarkers){for(i=0;i<viewportMarkers.length;i++)viewportMarkers[i].setMap(null);viewportMarkers=[],google.maps.event.addListener(map,"click",function(){infoWindow.close()}),google.maps.event.addListener(map,"click",function(){for(var e,i=document.getElementById("tbl"),n=1;e=i.rows[n];n++)e.style.backgroundColor="#ffffff"})}var e='<div class="maplist">',n=getAirports(map.getBounds());if(null!=n){for(i=0;i<n.length;i++){var o=new google.maps.Marker({position:new google.maps.LatLng(n[i].Location.Latitude,n[i].Location.Longitude),icon:n[i].icon,title:n[i].Name}),t="";t+="",null!==n[i].URL&&""!==n[i].URL?t+='<div style="margin-bottom:5px; font-size: 1.3rem"><a href="'+n[i].URL+'" target="_blank"><b>Name: </b>'+n[i].Name+"</a></div>":t+='<div style="margin-bottom:5px"><b>Name: </b>'+n[i].Name+"</div>",null!==n[i].Photo&&""!==n[i].Photo&&(t+='<div style="margin-bottom:5px"><img style="max-width:100%;max-height: 80px" src="'+n[i].Photo+'" /></div>'),null!==n[i].City&&""!==n[i].City&&(t+='<div style="margin-bottom:5px"><b>City: </b>'+n[i].City+"</div>"),null!==n[i].State&&""!==n[i].State&&(t+='<div style="margin-bottom:5px"><b>State: </b>'+n[i].State+"</div>"),null!==n[i].Country&&""!==n[i].Country&&(t+='<div style="margin-bottom:5px"><b>Country: </b>'+n[i].Country+"</div>"),o.objInfo=t,function(e,i){google.maps.event.addListener(i,"click",function(){null!=infoWindow&&infoWindow.setMap(null),(infoWindow=new google.maps.InfoWindow).setContent(i.objInfo),infoWindow.open(map,i),selectDataRow(n[e].Code)})}(i,o),o.setMap(map),viewportMarkers.push(o);var a=viewportMarkers.length-1;e+='<div class="item" id="mapid'+n[i].Code+'"><h4 class="maphead"><a href="javascript:highlightMarker('+a+')">'+n[i].Name+'</a></h4><div class="maplocation">'+n[i].City+n[i].State+"</div></div>",markerCount++}e+="</div>",document.getElementById("nguyenmapmenu").innerHTML=e}}function selectDataRow(i){document.getElementById("nguyenmapmenu").querySelectorAll(".item").forEach(function(e){e.id=="mapid"+i?e.classList.add("active"):e.classList.remove("active")})}function getAirports(e){if(null==e||null==e)return null;var n=[];for(i=0;i<nguyenmaps.length;i++)e.contains(new google.maps.LatLng(nguyenmaps[i].Location.Latitude,nguyenmaps[i].Location.Longitude))&&n.push(nguyenmaps[i]);return n}function highlightMarker(e){null!=infoWindow&&infoWindow.setMap(null),(infoWindow=new google.maps.InfoWindow).setContent(viewportMarkers[e].objInfo),infoWindow.open(map,viewportMarkers[e]),viewportMarkers[e].setAnimation(google.maps.Animation.BOUNCE),setTimeout(function(){viewportMarkers[e].setAnimation(null)},1250)}function zoomMarker(e){map.panTo(viewportMarkers[e].getPosition())}